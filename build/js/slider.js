"use strict";var multiItemSlider=function(t,e){var o,r,l=document.querySelector(t),s=l.querySelector(".slider__row"),c=l.querySelectorAll(".slider__item"),a=(l.querySelectorAll(".slider__control"),l.querySelector(".slider__control_left"),l.querySelector(".slider__control_right"),parseFloat(getComputedStyle(s).width)),d=parseFloat(getComputedStyle(c[0]).width),u=l.innerHTML,f=0,_=c.length-1,m=0,h=0,p=d/a*100,g=[],v=0,y=[{active:!1,minWidth:0,count:1},{active:!1,minWidth:576,count:2},{active:!1,minWidth:992,count:3},{active:!1,minWidth:1200,count:4}],i={isCycling:!1,direction:"right",interval:5e3,pause:!0};for(r in e)r in i&&(i[r]=e[r]);c.forEach(function(t,e){g.push({item:t,position:e,transform:0})});function S(){var i=0,o=parseFloat(document.body.clientWidth);y.forEach(function(t,e,r){y[e].active=!1,o>=y[e].minWidth&&(i=e)}),y[i].active=!0}function n(t){var e,r,i=f;(0<=(r=(r=l).getBoundingClientRect()).top&&r.bottom<=window.innerHeight||r.top<window.innerHeight&&0<=r.bottom)&&("right"===t&&(++m+a/d-1>q.getMax()&&(e=q.getItemMin(),g[e].position=q.getMax()+1,g[e].transform+=100*g.length,g[e].item.style.transform="translateX("+g[e].transform+"%)"),h-=p,_<(f+=1)&&(f=0)),"left"===t&&(--m<q.getMin()&&(e=q.getItemMax(),g[e].position=q.getMin()-1,g[e].transform-=100*g.length,g[e].item.style.transform="translateX("+g[e].transform+"%)"),h+=p,(f-=1)<0&&(f=_)),s.style.transform="translateX("+h+"%)",o[i].classList.remove("active"),o[f].classList.add("active"))}function w(t){i.isCycling&&(v=setInterval(function(){n(t)},i.interval))}function L(t){var e;t.target.classList.contains("slider__control")&&(t.preventDefault(),e=t.target.classList.contains("slider__control_right")?"right":"left",n(e),clearInterval(v),w(i.direction)),t.target.getAttribute("data-slide-to")&&(t.preventDefault(),function(t){for(var e=0,r=f<t?"right":"left";t!==f&&e<=_;)n(r),e++}(parseInt(t.target.getAttribute("data-slide-to"))),clearInterval(v),w(i.direction))}function I(){"hidden"===document.visibilityState?clearInterval(v):(clearInterval(v),w(i.direction))}var q={getItemMin:function(){var r=0;return g.forEach(function(t,e){t.position<g[r].position&&(r=e)}),r},getItemMax:function(){var r=0;return g.forEach(function(t,e){t.position>g[r].position&&(r=e)}),r},getMin:function(){return g[q.getItemMin()].position},getMax:function(){return g[q.getItemMax()].position}},E=function(){var t=document.createElement("ol");t.classList.add("slider__indicators");for(var e=0;e<c.length;e++){var r=document.createElement("li");0===e&&r.classList.add("active"),r.setAttribute("data-slide-to",e),t.appendChild(r)}l.appendChild(t),o=l.querySelectorAll(".slider__indicators > li")};return E(),document.querySelector(".slider-wrapper").addEventListener("click",L),i.pause&&i.isCycling&&(l.addEventListener("mouseenter",function(){clearInterval(v)}),l.addEventListener("mouseleave",function(){clearInterval(v),w(i.direction)})),document.addEventListener("visibilitychange",I,!1),window.addEventListener("resize",function(){var i,o=0,n=parseFloat(document.body.clientWidth);y.forEach(function(t,e,r){n>=y[e].minWidth&&(o=e)}),o!==(y.forEach(function(t,e,r){y[e].active&&(i=e)}),i)&&(S(),clearInterval(v),l.innerHTML=u,s=l.querySelector(".slider__row"),c=l.querySelectorAll(".slider__item"),l.querySelectorAll(".slider__control"),l.querySelector(".slider__control_left"),l.querySelector(".slider__control_right"),a=parseFloat(getComputedStyle(s).width),d=parseFloat(getComputedStyle(c[0]).width),f=h=m=0,_=c.length-1,p=d/a*100,g=[],c.forEach(function(t,e){g.push({item:t,position:e,transform:0})}),E())}),"visible"===document.visibilityState&&w(i.direction),S(),{right:function(){n("right")},left:function(){n("left")},stop:function(){i.isCycling=!1,clearInterval(v)},cycle:function(){i.isCycling=!0,clearInterval(v),w()}}},slider=multiItemSlider(".slider",{isCycling:!0}),slider=(multiItemSlider=function(t,e){var t=document.querySelector(t),r=t.querySelector(".product-slider__row"),i=t.querySelectorAll(".product-slider__column"),o=t.querySelectorAll(".product-slider__control"),n=t.querySelector(".product-slider__control_left"),l=t.querySelector(".product-slider__control_right"),s=parseFloat(getComputedStyle(r).width),c=parseFloat(getComputedStyle(i[0]).width),a=0,d=c/s*100,u=Math.round(s/c),f={min:0,max:i.length-1,left:0,right:u-1},_=[];i.forEach(function(t,e){_.push({item:t,position:e,transform:0})});function m(t){if("right"===t){if(f.left+s/c-1>=f.max)return;n.classList.contains("product-slider__control_show")||n.classList.add("product-slider__control_show"),l.classList.contains("product-slider__control_show")&&f.left+s/c>=f.max&&l.classList.remove("product-slider__control_show"),f.left++,f.right++,a-=d}if("left"===t){if(f.left<=f.min)return;l.classList.contains("product-slider__control_show")||l.classList.add("product-slider__control_show"),n.classList.contains("product-slider__control_show")&&f.left-1<=f.min&&n.classList.remove("product-slider__control_show"),f.left--,f.right--,a+=d}r.style.transform="translateX("+a+"%)"}function h(t){t.target.classList.contains("product-slider__control")&&(t.preventDefault(),t=t.target.classList.contains("product-slider__control_right")?"right":"left",m(t))}return o.forEach(function(t){t.addEventListener("click",h)}),window.addEventListener("resize",function(){var t=parseFloat(getComputedStyle(r).width),e=parseFloat(getComputedStyle(i[0]).width);u!==Math.round(t/e)&&(u=(s=t)/(c=e),f.left+u>f.max?(f.right=f.max,f.left=f.right-u+1):f.right=f.left+u-1,a=-(d=c/s*100)*f.left,r.style.transition="none",r.style.transform="translateX("+a+"%)",setTimeout(function(){r.style.transition="transform 0.6s ease"},400),0===f.left?n.classList.remove("product-slider__control_show"):n.classList.add("product-slider__control_show"),f.right===f.max?l.classList.remove("product-slider__control_show"):l.classList.add("product-slider__control_show"))}),{right:function(){m("right")},left:function(){m("left")}}})("#product-slider"),slider2=multiItemSlider("#product-slider2");